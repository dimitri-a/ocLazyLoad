<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="../../vendor/jquery-1.11.2.js"></script>
    <script src="../../vendor/angular.js"></script>
    <script src="../../dist/ocLazyLoad.js"></script>

</head>
<body>
<h3>Lazy load succeded if you can see 'Hello world' below</h3>
<div id="example" ng-app="LazyLoadTest" ng-controller="TestController"></div>

<script>
    angular.module("LazyLoadTest", ["oc.lazyLoad"])
        .controller("TestController", function ($scope, $ocLazyLoad, $compile) {

            $ocLazyLoad.load("js/testApp.js").then(function () {
                console.log('loaded!!');
                var el, elToAppend;
                elToAppend = $compile('<div>hello this is a directivetje</div>')($scope);
                //elToAppend = $compile(<span>bla</span>);
                el = angular.element('#example');
                el.append(elToAppend);
            }, function (e) {
                console.log('errr');
                console.error(e);
            })
        });
</script>
</body>
</html>
